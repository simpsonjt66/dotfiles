#!/bin/bash

# Gets the human-readable name of the current theme.
#
# This script reads the `theme` symlink from the state directory,
# gets the name of the theme directory it points to, and formats it
# for display (e.g., "tokyo-night" becomes "Tokyo Night").

# 1. `realpath "$XDG_STATE_HOME/current/theme"`: Gets the actual path of the theme directory.
# 2. `basename "..."`: Extracts the directory name from the path.
# 3. `sed -E '...'`: Formats the name.
#    - `s/(^|-)([a-z])/\1\u\2/g`: Capitalizes the first letter of each word.
#    - `s/-/ /g`: Replaces hyphens with spaces.
STATE_HOME="${XDG_STATE_HOME:-$HOME/.local/state}"
basename "$(realpath "$STATE_HOME/current/theme")" | sed -E 's/(^|-)([a-z])/\1\u\2/g; s/-/ /g'